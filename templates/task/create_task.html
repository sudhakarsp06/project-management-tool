<div class="row" ng-controller="TaskmanagerController" ng-init=" init(); getatask(); gettasktypes(); getusers();getstatuss(); getprojects(); getprioritys(); getmilestones(); " >

<div class="col-md-9 col-md-pull-1">

<form class="form-horizontal" name="adduserform" role="form">
  
  <div class="form-group">
	<div class="col-md-6 col-md-push-2">
	  <h2 ng-show="fields.id.value == 0 ">{{ 'CREATE_TASK.pagetitle' | translate }}</h2>
	  <h2 ng-show="fields.id.value > 0 ">{{ 'CREATE_TASK.edittitle' | translate }}</h2>	  
	</div>
	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.tasktype' | translate }}</label>
	<div class="col-sm-8">
	  <select name="user_type" class="form-control" ng-model="fields.task_type_id.value">
		<option ng-repeat="tasktype in tasktypes" ng-selected="fields.task_type_id.value == tasktype.id"  value="{{tasktype.id}}">{{tasktype.name}}</option>
	  </select>
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.task' | translate }}</label>
	<div class="col-sm-8">
	  <input type="text"   ng-model="fields.title.value" class="form-control" placeholder="{{ 'CREATE_TASK.task' | translate }}" >
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.details' | translate }}</label>
	<div class="col-sm-8">
	  <textarea   ng-model="fields.details.value" class="form-control" placeholder="{{ 'CREATE_TASK.details' | translate }}" ></textarea>
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.project' | translate }}</label>
	<div class="col-sm-8">
	  <select name="user_type" class="form-control" ng-model="fields.project_id.value">
		<option ng-repeat="project in projects" ng-selected="fields.project_id.value == project.id"  value="{{project.id}}">{{project.title}}</option>
	  </select>
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.milestone' | translate }}</label>
	<div class="col-sm-8">
	  <select name="user_type" class="form-control" ng-model="fields.milestone_id.value">
		<option ng-repeat="milestone in milestones" ng-selected="fields.milestone_id.value == milestone.id"  value="{{milestone.id}}">{{milestone.name}}</option>
	  </select>
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.assigned' | translate }}</label>
	<div class="col-sm-8">
	  <select name="user_type" class="form-control" ng-model="fields.assigned_to.value">
		<option ng-repeat="user in users" ng-selected="fields.assigned_to.value == user.id"  value="{{user.id}}">{{user.name}}</option>
	  </select>
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.status' | translate }}</label>
	<div class="col-sm-8">
	  <select name="user_type" class="form-control" ng-model="fields.status_id.value">
		<option ng-repeat="status in statuss" ng-selected="fields.status_id.value == status.id"  value="{{status.id}}">{{status.name}}</option>
	  </select>
	</div>	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_TASK.priority' | translate }}</label>
	<div class="col-sm-8">
	  <select name="user_type" class="form-control" ng-model="fields.priority_id.value">
		<option ng-repeat="priority in prioritys" ng-selected="fields.priority_id.value == priority.id"  value="{{priority.id}}">{{priority.name}}</option>
	  </select>
	</div>	
  </div>
       	
  <div class="form-group">
    <div class="col-sm-offset-4 col-sm-8">
      <button type="submit" class="btn btn-default" ng-show="fields.id.value == 0 " ng-click="addtask();" >{{ 'GENERAL.add' | translate }}</button>
	  <button type="submit" class="btn btn-default" ng-show="fields.id.value > 0 " ng-click="addtask();" >{{ 'GENERAL.update' | translate }}</button>
	   <button type="button" class="btn btn-default" ng-click="cancel();" >{{ 'GENERAL.cancel' | translate }}</button>
    </div>
  </div>
  <input type="hidden" value="" ng-model="fields.id.value" />
</form>
</div>
</div>
<style>
.has-feedback .form-control {
padding-right:42.5px;
}

.form-control-feedback {
position: absolute;
top: 0px;
right: -10px;
z-index: 2;
display: block;
width: 34px;
height: 34px;
line-height: 34px;
text-align: center;
}
</style>