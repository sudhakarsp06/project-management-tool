<div class="row" ng-controller="UsermanagerController" ng-init="init(); getusertypes(); getauser(); " >

<div class="col-md-9 col-md-pull-1">

<form class="form-horizontal" name="adduserform" role="form">
  
  <div class="form-group">
	<div class="col-md-6 col-md-push-2">
	  <h2>{{ 'CREATE_USER.pagetitle' | translate }}</h2>	
	</div>
	
  </div>
  
  <div class="form-group">
	<label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_USER.username' | translate }}</label>
	<div class="col-sm-8">
	  <input type="text"  name="username" id="username"  ng-model="fields.username.value" class="form-control" placeholder="{{ 'CREATE_USER.username' | translate }}" >
	</div>	
  </div>
  
  
    <div class="form-group">
    <label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_USER.email' | translate }}</label>
    <div class="col-sm-8 has-success has-warning has-feedback" ng-init="available=0;notavailable=0">
      <input type="email"  message="response.error" available="available" notavailable="notavailable"  bt-available tble="users" field="useremail" id="{{fields.id.value}}" ng-model="fields.email.value" class="form-control" ng-init="available=0"  placeholder="{{ 'CREATE_USER.email' | translate }}" >
	  <span ng-show="available"  class="glyphicon glyphicon-ok form-control-feedback"></span>
	  <span ng-show="notavailable" class="glyphicon glyphicon-remove form-control-feedback"></span>
	 
    </div>
  </div>
 
  
   <div class="form-group" ng-show="fields.id.value == 0">
    <label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_USER.password' | translate }}</label>
    <div class="col-sm-8">
      <input type="password" name="password" ng-model="fields.password.value"  class="form-control"  placeholder="{{ 'CREATE_USER.password' | translate }}" >
    </div>
  </div>
  
  <div class="form-group">
    <label for="inputEmail3" class="col-sm-4 control-label">{{ 'CREATE_USER.user_type' | translate }}</label>
    <div class="col-sm-8">      
	  <select name="user_type" class="form-control" ng-model="fields.user_type.value">
		<option ng-repeat="user_type in user_types" ng-selected="fields.user_type.value == user_type.id"  value="{{user_type.id}}">{{user_type.name}}</option>
	  </select>
    </div>
  </div>  
  	
  <div class="form-group">
    <div class="col-sm-offset-4 col-sm-8">
      <button type="submit" class="btn btn-default" ng-show="fields.id.value == 0 " ng-click="addUser();" >{{ 'GENERAL.add' | translate }}</button>
	  <button type="submit" class="btn btn-default" ng-show="fields.id.value > 0 " ng-click="addUser();" >{{ 'GENERAL.update' | translate }}</button>
	   <button type="button" class="btn btn-default" ng-click="cancel();" >{{ 'GENERAL.cancel' | translate }}</button>
    </div>
  </div>
  <input type="hidden" value="" ng-model="fields.id.value" />
</form>
</div>
</div>
<style>
.has-feedback .form-control {
padding-right:42.5px;
}

.form-control-feedback {
position: absolute;
top: 0px;
right: -10px;
z-index: 2;
display: block;
width: 34px;
height: 34px;
line-height: 34px;
text-align: center;
}
</style>